[gd_scene load_steps=4 format=3]

[ext_resource type="Script" path="res://scripts/world/ShroudWorld.gd" id="1_u7lpo"]
[ext_resource type="Script" path="res://scripts/world/HexGrid.gd" id="2_gyr5m"]
[ext_resource type="Script" path="res://scripts/world/Selector.gd" id="3_vf1yr"]

[node name="ShroudWorld" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_u7lpo")
turn_label_path = NodePath("TopBar/TurnLabel")
phase_label_path = NodePath("TopBar/PhaseLabel")
world_root_path = NodePath("WorldRoot")
hex_grid_path = NodePath("WorldRoot/HexGrid")
selector_path = NodePath("WorldRoot/Selector")
tile_info_label_path = NodePath("TilePanel/TileInfoLabel")
resource_label_path = NodePath("ResourcePanel/ResourceLabel")
end_turn_hint_label_path = NodePath("ResourcePanel/EndTurnHintLabel")
back_button_path = NodePath("BackButton")
commune_overlay_path = NodePath("CommuneOverlay")
commune_title_label_path = NodePath("CommuneOverlay/CommunePanel/CommuneTitleLabel")
commune_hint_label_path = NodePath("CommuneOverlay/CommunePanel/CommuneHintLabel")
tile_choice_button_0_path = NodePath("CommuneOverlay/CommunePanel/TileChoiceContainer/TileChoiceButton0")
tile_choice_button_1_path = NodePath("CommuneOverlay/CommunePanel/TileChoiceContainer/TileChoiceButton1")
tile_choice_button_2_path = NodePath("CommuneOverlay/CommunePanel/TileChoiceContainer/TileChoiceButton2")
sprout_registry_overlay_path = NodePath("SproutRegistryOverlay")
sprout_registry_list_path = NodePath("SproutRegistryOverlay/SproutPanel/SproutScroll/SproutList")
battle_overlay_layer_path = NodePath("BattleOverlayLayer")
run_end_overlay_path = NodePath("RunEndOverlay")
run_end_result_label_path = NodePath("RunEndOverlay/Content/ResultLabel")
run_end_hint_label_path = NodePath("RunEndOverlay/Content/HintLabel")

[node name="TopBar" type="HBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_left = 24.0
offset_top = 16.0
offset_right = -24.0
size_flags_horizontal = 3

[node name="TurnLabel" type="Label" parent="TopBar"]
text = "Turn 1"

[node name="PhaseLabel" type="Label" parent="TopBar"]
text = "Phase: Player"
size_flags_horizontal = 3
horizontal_alignment = 2

[node name="BattleOverlayLayer" type="Control" parent="."]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 0
z_index = 100

[node name="RunEndOverlay" type="Control" parent="."]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
z_index = 200

[node name="Background" type="ColorRect" parent="RunEndOverlay"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.6)

[node name="Content" type="VBoxContainer" parent="RunEndOverlay"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -180.0
offset_top = -80.0
offset_right = 180.0
offset_bottom = 80.0
alignment = 1
theme_override_constants/separation = 12

[node name="ResultLabel" type="Label" parent="RunEndOverlay/Content"]
text = "Run End"
horizontal_alignment = 1

[node name="HintLabel" type="Label" parent="RunEndOverlay/Content"]
text = "Press Space to return to Main Menu"
horizontal_alignment = 1

[node name="WorldRoot" type="Node2D" parent="."]
position = Vector2(512, 320)

[node name="HexGrid" type="Node2D" parent="WorldRoot"]
script = ExtResource("2_gyr5m")

[node name="Selector" type="Node2D" parent="WorldRoot"]
script = ExtResource("3_vf1yr")

[node name="TilePanel" type="Panel" parent="."]
layout_mode = 1
anchors_preset = 3
anchor_bottom = 1.0
offset_left = 24.0
offset_top = 256.0
offset_right = 224.0
offset_bottom = -24.0

[node name="TileInfoLabel" type="Label" parent="TilePanel"]
layout_mode = 0
offset_left = 12.0
offset_top = 12.0
offset_right = 188.0
offset_bottom = 60.0
text = "Current Tile: (placeholder)"

[node name="ResourcePanel" type="Panel" parent="."]
layout_mode = 1
anchors_preset = 12
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -264.0
offset_top = -200.0
offset_right = -24.0
offset_bottom = -24.0

[node name="ResourceLabel" type="Label" parent="ResourcePanel"]
layout_mode = 0
offset_left = 12.0
offset_top = 12.0
offset_right = 228.0
offset_bottom = 44.0
text = "Nature: 0 | Water: 0 | Earth: 0 | Souls: 0"

[node name="EndTurnHintLabel" type="Label" parent="ResourcePanel"]
layout_mode = 0
offset_left = 12.0
offset_top = 56.0
offset_right = 228.0
offset_bottom = 88.0
text = "RL - Next Turn (Press V)"

[node name="BackButton" type="Button" parent="."]
layout_mode = 1
anchors_preset = 1
offset_left = 24.0
offset_top = 80.0
offset_right = 124.0
offset_bottom = 120.0
text = "Back"

[node name="CommuneOverlay" type="Control" parent="."]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Dimmer" type="ColorRect" parent="CommuneOverlay"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.4)

[node name="CommunePanel" type="VBoxContainer" parent="CommuneOverlay"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -200.0
offset_top = -150.0
offset_right = 200.0
offset_bottom = 150.0

[node name="CommuneTitleLabel" type="Label" parent="CommuneOverlay/CommunePanel"]
text = "Commune â€“ Choose a Tile"
horizontal_alignment = 1

[node name="TileChoiceContainer" type="HBoxContainer" parent="CommuneOverlay/CommunePanel"]
size_flags_horizontal = 3
size_flags_vertical = 3
alignment = 1

[node name="TileChoiceButton0" type="Button" parent="CommuneOverlay/CommunePanel/TileChoiceContainer"]
size_flags_horizontal = 3

[node name="TileChoiceButton1" type="Button" parent="CommuneOverlay/CommunePanel/TileChoiceContainer"]
size_flags_horizontal = 3

[node name="TileChoiceButton2" type="Button" parent="CommuneOverlay/CommunePanel/TileChoiceContainer"]
size_flags_horizontal = 3

[node name="CommuneHintLabel" type="Label" parent="CommuneOverlay/CommunePanel"]
text = "Use Left/Right or 1/2/3, Space to select"
horizontal_alignment = 1

[node name="SproutRegistryOverlay" type="Control" parent="."]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="SproutDimmer" type="ColorRect" parent="SproutRegistryOverlay"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.4)

[node name="SproutPanel" type="Panel" parent="SproutRegistryOverlay"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -200.0
offset_top = -160.0
offset_right = 200.0
offset_bottom = 160.0

[node name="SproutTitleLabel" type="Label" parent="SproutRegistryOverlay/SproutPanel"]
layout_mode = 0
offset_left = 12.0
offset_top = 12.0
offset_right = 188.0
offset_bottom = 40.0
text = "Sprout Registry"
horizontal_alignment = 1

[node name="SproutScroll" type="ScrollContainer" parent="SproutRegistryOverlay/SproutPanel"]
layout_mode = 0
offset_left = 12.0
offset_top = 48.0
offset_right = 188.0
offset_bottom = 148.0
size_flags_vertical = 3

[node name="SproutList" type="VBoxContainer" parent="SproutRegistryOverlay/SproutPanel/SproutScroll"]
layout_mode = 2
